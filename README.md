# Shift Data Engineer ‚Äî Weather ETL

ETL-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ [Open-Meteo API](https://open-meteo.com/), –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ `.csv`.

## üöÄ –°—Ç–µ–∫

- Python 3.x
- Pandas
- NumPy
- Requests

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/Tuinf1/01_shift_data_engineer.git
cd 01_shift_data_engineer
pip install -r requirements.txt

docker-compose up -d
python app/weather_etl.py


–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Ä–µ—à–µ–Ω–∏–π

1. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (fetch_data)
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Open-Meteo API —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

hourly ‚Äî –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ –ø–æ —á–∞—Å–∞–º

daily ‚Äî –¥–ª—è —Ä–∞—Å—Å—á—ë—Ç–∞ —Å–≤–µ—Ç–æ–≤–æ–≥–æ –¥–Ω—è (sunrise/sunset)

timeformat=unixtime —É–ø—Ä–æ—â–∞–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ datetime

–ê—Ä–≥—É–º–µ–Ω—Ç—ã:

API –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω–∞, —Å—Ç–∞–±–∏–ª–µ–Ω –∏ –±–µ—Å–ø–ª–∞—Ç–µ–Ω

–ï–¥–∏–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Å—Ä–∞–∑—É –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏


2. –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö 
üìå aggregate_24h
–ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ —Å—É—Ç–∫–∞–º —á–µ—Ä–µ–∑ .resample("1D"):

mean –¥–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –∏ —Ç.–ø.

sum –¥–ª—è –æ—Å–∞–¥–∫–æ–≤

üìå aggregate_daylight
–ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –≤ –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ [sunrise, sunset] ‚Äî —ç—Ç–æ –¥–∞—ë—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å—Ä–µ–∑ –º–µ—Ç—Ä–∏–∫ –∑–∞ —Å–≤–µ—Ç–æ–≤–æ–π –¥–µ–Ω—å, —á—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è:

–æ—Ü–µ–Ω–∫–∏ –∫–æ–º—Ñ–æ—Ä—Ç–∞

–∞–Ω–∞–ª–∏–∑–∞ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–º/–ø–æ–≤–µ–¥–µ–Ω–∏–µ

–ê—Ä–≥—É–º–µ–Ω—Ç—ã:

.resample() –∏ loc[start:end] ‚Äî –±—ã—Å—Ç—Ä—ã–µ –∏ –Ω–∞–¥—ë–∂–Ω—ã–µ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–∞—Ö

—Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ª—É—á—à–µ, —á–µ–º –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –ø–æ "–¥–Ω–µ–≤–Ω—ã–º" —á–∞—Å–∞–º